(function(e){function t(t){for(var r,o,l=t[0],c=t[1],i=t[2],b=0,p=[];b<l.length;b++)o=l[b],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,i||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,l=1;l<a.length;l++){var c=a[l];0!==n[c]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},s=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);var r=a("7a23");const n={id:"app",class:"container-fluid"},s=Object(r["f"])("h1",null,"Simple authentication example",-1),o={class:"auth-wrapper row"},l={class:"auth-inner col-md-6"};function c(e,t,a,c,i,u){const b=Object(r["x"])("Nav"),p=Object(r["x"])("router-view");return Object(r["r"])(),Object(r["e"])("div",n,[Object(r["h"])(b),s,Object(r["f"])("div",o,[Object(r["f"])("div",l,[Object(r["h"])(p)])])])}const i={class:"navbar navbar-expand-lg navbar-light bg-light"},u={class:"container-fluid"},b={class:"collapse navbar-collapse",id:"navbarNav"},p=Object(r["g"])("Home"),d={key:0,class:"navbar-nav"},m={class:"nav-item"},f=Object(r["g"])("Login"),j={class:"nav-item"},O=Object(r["g"])("Sign in"),h={key:1,class:"navbar-nav"},v={class:"nav-item"};function g(e,t,a,n,s,o){const l=Object(r["x"])("router-link");return Object(r["r"])(),Object(r["e"])("nav",i,[Object(r["f"])("div",u,[Object(r["f"])("div",b,[Object(r["h"])(l,{to:"/",class:"nav-link active","aria-current":"page"},{default:Object(r["D"])(()=>[p]),_:1}),e.user?Object(r["d"])("",!0):(Object(r["r"])(),Object(r["e"])("ul",d,[Object(r["f"])("li",m,[Object(r["h"])(l,{to:"/login",class:"nav-link"},{default:Object(r["D"])(()=>[f]),_:1})]),Object(r["f"])("li",j,[Object(r["h"])(l,{to:"/register",class:"nav-link"},{default:Object(r["D"])(()=>[O]),_:1})])])),e.user?(Object(r["r"])(),Object(r["e"])("ul",h,[Object(r["f"])("li",v,[Object(r["f"])("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=(...e)=>o.handleClick&&o.handleClick(...e)),class:"nav-link"},"Logout")])])):Object(r["d"])("",!0)])])])}var y=a("5502"),w={name:"Nav",methods:{handleClick(){localStorage.removeItem("token"),this.$store.dispatch("user",null),this.$router.push("/")}},computed:{...Object(y["b"])(["user"])}},x=a("6b0d"),S=a.n(x);const k=S()(w,[["render",g]]);var P=k,E={name:"App",computed:{...Object(y["b"])(["user"])},async created(){console.log(localStorage.getItem("token")),localStorage.getItem("token")&&this.$store.dispatch("user",{email:this.user.email})},components:{Nav:P}};a("ef9a");const I=S()(E,[["render",c]]);var _=I,H=a("6605");const C={key:0},N={key:1};function $(e,t,a,n,s,o){return Object(r["r"])(),Object(r["e"])("div",null,[e.user?(Object(r["r"])(),Object(r["e"])("h3",C,"Hello "+Object(r["z"])(e.user.email),1)):Object(r["d"])("",!0),e.user?Object(r["d"])("",!0):(Object(r["r"])(),Object(r["e"])("h3",N,"You are not logged in."))])}var B={name:"Home",computed:{...Object(y["b"])(["user"])}};const L=S()(B,[["render",$]]);var A=L;const J=e=>(Object(r["u"])("data-v-592e24aa"),e=e(),Object(r["s"])(),e),M=J(()=>Object(r["f"])("h2",null,"Login",-1)),T=J(()=>Object(r["f"])("br",null,null,-1)),U=J(()=>Object(r["f"])("p",null,[Object(r["f"])("strong",null,[Object(r["f"])("em",null,"Example data:")]),Object(r["f"])("br"),Object(r["f"])("strong",null,"email"),Object(r["g"])(": testuser@testuser.com "),Object(r["f"])("br"),Object(r["f"])("strong",null,"password"),Object(r["g"])(": testuser ")],-1)),V={class:"form-group"},z=J(()=>Object(r["f"])("label",{for:"exampleInputEmail1"},"Email address:",-1)),D=J(()=>Object(r["f"])("small",{id:"emailHelp",class:"form-text text-muted"},"We'll never share your email with anyone else.",-1)),R={class:"form-group"},F=J(()=>Object(r["f"])("label",{for:"exampleInputPassword1"},"Password:",-1)),W={class:"errormsg"},Y=J(()=>Object(r["f"])("br",null,null,-1)),q=J(()=>Object(r["f"])("button",{type:"submit",class:"btn btn-primary"},"Submit",-1));function G(e,t,a,n,s,o){return Object(r["r"])(),Object(r["e"])(r["a"],null,[M,T,U,Object(r["f"])("form",{onSubmit:t[2]||(t[2]=Object(r["F"])((...e)=>o.handleSubmit&&o.handleSubmit(...e),["prevent"]))},[Object(r["f"])("div",V,[z,Object(r["E"])(Object(r["f"])("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e),class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"},null,512),[[r["B"],s.email]]),D]),Object(r["f"])("div",R,[F,Object(r["E"])(Object(r["f"])("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),class:"form-control",id:"exampleInputPassword1",placeholder:"Password"},null,512),[[r["B"],s.password]])]),Object(r["f"])("div",W,Object(r["z"])(s.errormsg),1),Y,q],32)],64)}var K={name:"Login",data(){return{email:"",password:"",errormsg:""}},methods:{async handleSubmit(){const e=await fetch("auth/login",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer"},body:JSON.stringify({email:this.email,password:this.password})}),t=await e.json();401==t.status?this.errormsg=t.message:this.errormsg="",t.access_token&&(localStorage.setItem("token",t.access_token),this.$store.dispatch("user",{email:this.email}),this.$router.push("/"))}}};a("cae8");const Q=S()(K,[["render",G],["__scopeId","data-v-592e24aa"]]);var X=Q;const Z=Object(r["f"])("h1",null,"Register",-1),ee={class:"form-group"},te=Object(r["f"])("label",{for:"exampleInputEmail1"},"Email address:",-1),ae=Object(r["f"])("small",{id:"emailHelp",class:"form-text text-muted"},"We'll never share your email with anyone else.",-1),re={class:"form-group"},ne=Object(r["f"])("label",{for:"exampleInputPassword1"},"Password:",-1),se=Object(r["f"])("br",null,null,-1),oe=Object(r["f"])("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function le(e,t,a,n,s,o){return Object(r["r"])(),Object(r["e"])(r["a"],null,[Z,Object(r["f"])("form",{onSubmit:t[2]||(t[2]=Object(r["F"])((...e)=>o.handleSubmit&&o.handleSubmit(...e),["prevent"]))},[Object(r["f"])("div",ee,[te,Object(r["E"])(Object(r["f"])("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e),class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"},null,512),[[r["B"],s.email]]),ae]),Object(r["f"])("div",re,[ne,Object(r["E"])(Object(r["f"])("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),class:"form-control",id:"exampleInputPassword1",placeholder:"Password"},null,512),[[r["B"],s.password]])]),se,oe],32)],64)}var ce={name:"Register",data(){return{email:"",password:""}},methods:{async handleSubmit(){const e=await fetch("auth/register",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})});console.log(e.json()),await this.$router.push("/login")}}};const ie=S()(ce,[["render",le]]);var ue=ie;const be=[{path:"/",name:"Home",component:A},{path:"/login",name:"Login",component:X},{path:"/register",name:"Register",component:ue}],pe=Object(H["a"])({history:Object(H["b"])("/"),routes:be});var de=pe;const me={user:null},fe=Object(y["a"])({state:me,getters:{user:e=>e.user},actions:{user(e,t){e.commit("user",t)}},mutations:{user(e,t){e.user=t}}});var je=fe;Object(r["c"])(_).use(de).use(je).mount("#app")},"915c":function(e,t,a){},cae8:function(e,t,a){"use strict";a("915c")},ef9a:function(e,t,a){"use strict";a("feee")},feee:function(e,t,a){}});
//# sourceMappingURL=app.50ef7714.js.map