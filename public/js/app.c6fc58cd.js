(function(e){function t(t){for(var n,o,s=t[0],c=t[1],i=t[2],b=0,p=[];b<s.length;b++)o=s[b],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return l.push.apply(l,i||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(l.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},l=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var u=c;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("7a23");const r={id:"app",class:"container-fluid"},l=Object(n["f"])("h1",null,"Simple authentication example",-1),o={class:"auth-wrapper row"},s={class:"auth-inner col-md-6"};function c(e,t,a,c,i,u){const b=Object(n["v"])("Nav"),p=Object(n["v"])("router-view");return Object(n["r"])(),Object(n["e"])("div",r,[Object(n["h"])(b),l,Object(n["f"])("div",o,[Object(n["f"])("div",s,[Object(n["h"])(p)])])])}const i={class:"navbar navbar-expand-lg navbar-light bg-light"},u={class:"container-fluid"},b={class:"collapse navbar-collapse",id:"navbarNav"},p=Object(n["g"])("Home"),d={key:0,class:"navbar-nav"},m={class:"nav-item"},f=Object(n["g"])("Login"),j={class:"nav-item"},O=Object(n["g"])("Sign in"),h={key:1,class:"navbar-nav"},v={class:"nav-item"};function g(e,t,a,r,l,o){const s=Object(n["v"])("router-link");return Object(n["r"])(),Object(n["e"])("nav",i,[Object(n["f"])("div",u,[Object(n["f"])("div",b,[Object(n["h"])(s,{to:"/",class:"nav-link active","aria-current":"page"},{default:Object(n["B"])(()=>[p]),_:1}),e.user?Object(n["d"])("",!0):(Object(n["r"])(),Object(n["e"])("ul",d,[Object(n["f"])("li",m,[Object(n["h"])(s,{to:"/login",class:"nav-link"},{default:Object(n["B"])(()=>[f]),_:1})]),Object(n["f"])("li",j,[Object(n["h"])(s,{to:"/register",class:"nav-link"},{default:Object(n["B"])(()=>[O]),_:1})])])),e.user?(Object(n["r"])(),Object(n["e"])("ul",h,[Object(n["f"])("li",v,[Object(n["f"])("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=(...e)=>o.handleClick&&o.handleClick(...e)),class:"nav-link"},"Logout")])])):Object(n["d"])("",!0)])])])}var y=a("5502"),w={name:"Nav",methods:{handleClick(){localStorage.removeItem("token"),this.$store.dispatch("user",null),this.$router.push("/")}},computed:{...Object(y["b"])(["user"])}},S=a("6b0d"),k=a.n(S);const x=k()(w,[["render",g]]);var P=x,I={name:"App",computed:{...Object(y["b"])(["user"])},async created(){console.log(localStorage.getItem("token")),localStorage.getItem("token")&&this.$store.dispatch("user",{email:this.user.email})},components:{Nav:P}};a("ef9a");const _=k()(I,[["render",c]]);var C=_,E=a("6605");const H={key:0},N={key:1};function $(e,t,a,r,l,o){return Object(n["r"])(),Object(n["e"])("div",null,[e.user?(Object(n["r"])(),Object(n["e"])("h3",H,"Hello "+Object(n["x"])(e.user.email),1)):Object(n["d"])("",!0),e.user?Object(n["d"])("",!0):(Object(n["r"])(),Object(n["e"])("h3",N,"You are not logged in."))])}var z={name:"Home",computed:{...Object(y["b"])(["user"])}};const L=k()(z,[["render",$]]);var A=L;const B=Object(n["f"])("h2",null,"Login",-1),J=Object(n["f"])("br",null,null,-1),M=Object(n["f"])("p",null,[Object(n["f"])("strong",null,[Object(n["f"])("em",null,"Example data:")]),Object(n["f"])("br"),Object(n["f"])("strong",null,"email"),Object(n["g"])(": testuser@testuser.com "),Object(n["f"])("br"),Object(n["f"])("strong",null,"password"),Object(n["g"])(": testuser ")],-1),T={class:"form-group"},U=Object(n["f"])("label",{for:"exampleInputEmail1"},"Email address:",-1),V=Object(n["f"])("small",{id:"emailHelp",class:"form-text text-muted"},"We'll never share your email with anyone else.",-1),R={class:"form-group"},D=Object(n["f"])("label",{for:"exampleInputPassword1"},"Password:",-1),W=Object(n["f"])("br",null,null,-1),Y=Object(n["f"])("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function q(e,t,a,r,l,o){return Object(n["r"])(),Object(n["e"])(n["a"],null,[B,J,M,Object(n["f"])("form",{onSubmit:t[2]||(t[2]=Object(n["D"])((...e)=>o.handleSubmit&&o.handleSubmit(...e),["prevent"]))},[Object(n["f"])("div",T,[U,Object(n["C"])(Object(n["f"])("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"},null,512),[[n["z"],l.email]]),V]),Object(n["f"])("div",R,[D,Object(n["C"])(Object(n["f"])("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),class:"form-control",id:"exampleInputPassword1",placeholder:"Password"},null,512),[[n["z"],l.password]])]),W,Y],32)],64)}var F={name:"Login",data(){return{email:"",password:""}},methods:{async handleSubmit(){const e=await fetch("auth/login",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer"},body:JSON.stringify({email:this.email,password:this.password})}),t=await e.json();t.access_token&&(localStorage.setItem("token",t.access_token),this.$store.dispatch("user",{email:this.email}),this.$router.push("/"))}}};const G=k()(F,[["render",q]]);var K=G;const Q=Object(n["f"])("h1",null,"Register",-1),X={class:"form-group"},Z=Object(n["f"])("label",{for:"exampleInputEmail1"},"Email address:",-1),ee=Object(n["f"])("small",{id:"emailHelp",class:"form-text text-muted"},"We'll never share your email with anyone else.",-1),te={class:"form-group"},ae=Object(n["f"])("label",{for:"exampleInputPassword1"},"Password:",-1),ne=Object(n["f"])("br",null,null,-1),re=Object(n["f"])("button",{type:"submit",class:"btn btn-primary"},"Submit",-1);function le(e,t,a,r,l,o){return Object(n["r"])(),Object(n["e"])(n["a"],null,[Q,Object(n["f"])("form",{onSubmit:t[2]||(t[2]=Object(n["D"])((...e)=>o.handleSubmit&&o.handleSubmit(...e),["prevent"]))},[Object(n["f"])("div",X,[Z,Object(n["C"])(Object(n["f"])("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>l.email=e),class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"},null,512),[[n["z"],l.email]]),ee]),Object(n["f"])("div",te,[ae,Object(n["C"])(Object(n["f"])("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),class:"form-control",id:"exampleInputPassword1",placeholder:"Password"},null,512),[[n["z"],l.password]])]),ne,re],32)],64)}var oe={name:"Register",data(){return{email:"",password:""}},methods:{async handleSubmit(){const e=await fetch("auth/register",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})});console.log(e.json()),await this.$router.push("/login")}}};const se=k()(oe,[["render",le]]);var ce=se;const ie=[{path:"/",name:"Home",component:A},{path:"/login",name:"Login",component:K},{path:"/register",name:"Register",component:ce}],ue=Object(E["a"])({history:Object(E["b"])("/"),routes:ie});var be=ue;const pe={user:null},de=Object(y["a"])({state:pe,getters:{user:e=>e.user},actions:{user(e,t){e.commit("user",t)}},mutations:{user(e,t){e.user=t}}});var me=de;Object(n["c"])(C).use(be).use(me).mount("#app")},ef9a:function(e,t,a){"use strict";a("feee")},feee:function(e,t,a){}});
//# sourceMappingURL=app.c6fc58cd.js.map